@model UCGrab.Database.User_Information

@{
    ViewBag.Title = "EditProfile";
    Layout = "~/Views/Shared/UserLayout.cshtml";
}

@if (TempData["ErrorMessage"] != null)
{
    <div class="alert alert-danger">@TempData["ErrorMessage"]</div>
}

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <!-- Edit Profile Start -->
    <div class="container-fluid">
        <h2 class="section-title position-relative text-uppercase mx-xl-5 mb-4"><span class="bg-secondary pr-3">Edit Profile</span></h2>
        <div class="row px-xl-5">
            <div class="col-lg-7 mb-5">
                <div class="bg-light p-30">
                    <form name="editProfile" id="editProfileForm" novalidate="novalidate">
                        @if (!String.IsNullOrEmpty(TempData["Message"] as String))
                        {
                            <span class="alert alert-success">@TempData["Message"]</span>
                        }
                        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                        @Html.HiddenFor(model => model.id)

                        <p>@Model.user_id</p>

                        <div class="form-group" hidden>
                            @Html.LabelFor(model => model.user_id, htmlAttributes: new { @class = "control-label col-md-2" })
                            <div class="col-md-10">
                                @Html.EditorFor(model => model.user_id, new { htmlAttributes = new { @class = "form-control" } })
                                @Html.ValidationMessageFor(model => model.user_id, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="control-group">
                            <label for="name">First Name</label>
                            <input type="text" class="form-control" name="firstname" id="firstname" placeholder="Firstname"
                                   required="required" data-validation-required-message="Please enter your firstname" />
                            <p class="help-block text-danger"></p>
                        </div>
                        <div class="control-group">
                            <label for="name">Last Name</label>
                            <input type="text" class="form-control" name="lastname" id="lastname" placeholder="Lastname"
                                   required="required" data-validation-required-message="Please enter your lastname" />
                            <p class="help-block text-danger"></p>
                        </div>
                        <div class="control-group">
                            <label for="email">Email</label>
                            <input type="email" class="form-control" name="email" id="email" placeholder="Email"
                                   required="required" data-validation-required-message="Please enter your email" />
                            <p class="help-block text-danger"></p>
                        </div>
                        <div class="control-group">
                            <label for="phone">Phone Number</label>
                            <input type="text" class="form-control" name="phone" id="phone" placeholder="Phone Number"
                                   required="required" data-validation-required-message="Please enter your phone number" />
                            <p class="help-block text-danger"></p>
                        </div>
                        <div>
                            <button class="btn btn-primary py-2 px-4" type="submit" id="saveProfileButton">Save Changes</button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="col-lg-5 mb-5">
                <div class="bg-primary p-4" style="border-radius: 5px; text-align: center;">
                    <h4 style="color: white;">Profile Picture</h4>
                    <img src="profile.jpg" alt="Avatar" class="img-fluid" style="border-radius: 5px; margin-bottom: 15px" />
                    <form id="profilePictureForm" enctype="multipart/form-data">
                        <div class="form-group">
                            <input type="file" class="form-control" id="profilePicture" required="required" style="display: none;" />
                            <button class="btn btn-warning py-2 px-4" type="button" onclick="document.getElementById('profilePicture').click();">Upload New Photo</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <!-- Edit Profile End -->
}
